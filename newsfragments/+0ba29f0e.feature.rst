Synced with python/cpython@f912e5a2f6.